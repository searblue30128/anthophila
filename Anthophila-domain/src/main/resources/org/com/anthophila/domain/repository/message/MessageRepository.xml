<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.com.anthophila.domain.repository.message.MessageRepository">

  <resultMap id="MessageResultMap" type="Message">
    <id property="messageNo" column="message_no" />
    <result property="messageContent" column="message_content" />
    <result property="messageSendFlg" column="message_send_flg" />
    <result property="messageLevel" column="message_level" />
    <result property="messageCreateTime" column="message_create_time" />
    <result property="messageSendTime" column="message_send_time" />
    <result property="messageCreateNo" column="message_create_no" />
  </resultMap>

  <select id="findByNo" resultType="Message"  resultMap="MessageResultMap">
    SELECT
	*
    FROM
    message
    WHERE
    message_no = #{messageNo}
    AND
    message_send_flg = '0'
    ORDER BY message_level,message_create_time
  </select>
</mapper>
